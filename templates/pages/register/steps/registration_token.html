{#
Copyright 2025 New Vector Ltd.

SPDX-License-Identifier: AGPL-3.0-only OR LicenseRef-Element-Commercial
Please see LICENSE files in the repository root for full details.
-#}

{% extends "base.html" %}

{% block title %}Registration Token - AMS{% endblock title %}

{% block content %}
  <style>
    body { background: linear-gradient(135deg, rgb(76 29 149), rgb(88 28 135), rgb(67 56 202)) !important; min-height: 100vh; }
    .layout-container { background: transparent !important; display: flex !important; align-items: center !important; justify-content: center !important; min-height: 100vh !important; padding: 1rem !important; }
    .cpd-form-root { background: rgba(255, 255, 255, 0.1) !important; backdrop-filter: blur(10px) !important; border-radius: 1rem !important; padding: 1rem 2rem 2rem 2rem !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; width: 100% !important; max-width: 500px !important; margin-bottom: 1rem !important; }
    .page-heading { margin-bottom: 1rem !important; }
    .cpd-text-control { background: rgba(255, 255, 255, 0.1) !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; color: white !important; }
    .cpd-text-control::placeholder { color: rgba(196, 181, 253, 0.6) !important; }
    .cpd-text-control:focus { border-color: rgb(139, 92, 246) !important; box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.3) !important; }
    .cpd-button[data-kind="primary"], .cpd-button:not([data-kind]) { background: rgb(139, 92, 246) !important; border: 1px solid rgb(139, 92, 246) !important; color: white !important; width: 100% !important; }
    .cpd-button[data-kind="primary"]:hover, .cpd-button:not([data-kind]):hover { background: rgb(124, 58, 237) !important; border: 1px solid rgb(124, 58, 237) !important; }
    .icon { background: rgba(255, 255, 255, 0.1) !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; border-radius: 0.75rem !important; padding: 1rem !important; display: inline-flex !important; align-items: center !important; justify-content: center !important; }
    .icon svg { color: white !important; width: 2rem !important; height: 2rem !important; }
    .title { color: white !important; }
    .text { color: white !important; font-size: 0.875rem !important; }
    .text-critical { color: rgb(248, 113, 113) !important; }
    .cpd-form-field-label { color: white !important; }
    form { display: flex !important; flex-direction: column !important; gap: 1rem !important; }
  </style>
  <div class="cpd-form-root">
    <header class="page-heading">
      <div class="icon">
        {{ icon.key_solid() }}
      </div>
      <div class="header">
        <h1 class="title">{{ _("mas.registration_token.headline") }}</h1>
        <p class="text">{{ _("mas.registration_token.description") }}</p>
      </div>
    </header>
    <form method="POST">
      {% if form.errors is not empty %}
        {% for error in form.errors %}
          <div class="text-critical font-medium">
            {{ errors.form_error_message(error=error) }}
          </div>
        {% endfor %}
      {% endif %}

      <input type="hidden" name="csrf" value="{{ csrf_token }}" />

      {% call(f) field.field(label=_("mas.registration_token.field"), name="token", form_state=form, class="mb-4") %}
        <input {{ field.attributes(f) }}
          id="cpd-text-control"
          type="text"
          class="cpd-text-control"
          required />
      {% endcall %}

      {{ button.button(text=_("action.continue")) }}
    </form>
  </div>
{% endblock content %}
