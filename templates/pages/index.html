{#
Copyright 2024, 2025 New Vector Ltd.
Copyright 2021-2024 The Matrix.org Foundation C.I.C.

SPDX-License-Identifier: AGPL-3.0-only OR LicenseRef-Element-Commercial
Please see LICENSE files in the repository root for full details.
-#}

{% extends "base.html" %}

{% block title %}Authentication-AMS{% endblock title %}

{% block content %}
  <style>
    body { background: linear-gradient(135deg, rgb(76 29 149), rgb(88 28 135), rgb(67 56 202)) !important; min-height: 100vh; margin: 0 !important; }
    .layout-container { background: transparent !important; display: flex !important; flex-direction: column !important; align-items: center !important; justify-content: center !important; min-height: 100vh !important; padding: 1rem !important; }
    main { background: rgba(255, 255, 255, 0.1) !important; backdrop-filter: blur(10px) !important; border-radius: 1rem !important; padding: 2rem !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; max-width: 32rem !important; margin: 0 auto !important; }
    .title { color: white !important; font-size: 1.5rem !important; margin-bottom: 0.75rem !important; }
    .text { color: white !important; font-size: 0.875rem !important; }
    .cpd-text-body-md-regular { color: white !important; }
    .cpd-button[data-kind="primary"], .cpd-button:not([data-kind]) { background: rgb(139, 92, 246) !important; border: 1px solid rgb(139, 92, 246) !important; color: white !important; }
    .cpd-button[data-kind="primary"]:hover, .cpd-button:not([data-kind]):hover { background: rgb(124, 58, 237) !important; border: 1px solid rgb(124, 58, 237) !important; }
    .cpd-button[data-kind="secondary"] { background: rgba(255, 255, 255, 0.1) !important; border: 1px solid rgba(255, 255, 255, 0.2) !important; color: white !important; }
    .cpd-button[data-kind="secondary"]:hover { background: rgba(255, 255, 255, 0.2) !important; }
    footer { display: none !important; }
    a { color: white !important; }
    a:hover { color: rgba(255, 255, 255, 0.8) !important; background: transparent !important; }
  </style>
  <main class="flex flex-col justify-center gap-6">
    <header class="page-heading">
      <div class="header">
        <h1 class="title">{{ _("app.human_name") }}</h1>
        <p class="text">
          {{ _("app.technical_description", discovery_url=discovery_url) }}
        </p>
      </div>
    </header>

    {% if current_session is not none %}
      <p class="cpd-text-body-md-regular">
        {{ _("mas.navbar.signed_in_as", username=current_session.user.username) }}
      </p>

      {{ button.link(text=_("mas.navbar.my_account"), href="/account/") }}
      {{ logout.button(text=_("action.sign_out"), csrf_token=csrf_token) }}
    {% else %}
      {{ button.link(text=_("action.sign_in"), href="/login") }}

      {% if features.password_registration %}
        {{ button.link_outline(text=_("mas.navbar.register"), href="/register") }}
      {% endif %}
    {% endif %}
  </main>
{% endblock content %}
